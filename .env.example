# ============================================================================
# CORE APPLICATION SETTINGS
# ============================================================================

# Server Configuration
MXF_PORT=3001
MXF_SERVER_URL=http://localhost:3001
MXF_API_URL=http://localhost:3001/api
NODE_ENV=development
TZ=America/Denver

# Dashboard
DASHBOARD_URL=http://localhost:8080

# Logging
LOG_LEVEL=info
AUDIT_LOG_PATH=logs/audit.log

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# MongoDB Connection
MONGODB_URI=mongodb://localhost:27017/mxf

# MongoDB Docker Configuration (when using docker-compose)
MONGODB_USERNAME=mxf_admin
MONGODB_PASSWORD=changeme_in_production
MONGODB_DATABASE=mxf

# Redis Configuration (when using docker-compose)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=changeme_redis_password

# ============================================================================
# SECURITY & AUTHENTICATION
# ============================================================================

# Core Security
JWT_SECRET=change-this-to-a-secure-random-string
ENCRYPTION_KEY=change-this-to-a-secure-random-string-at-least-32-bytes

# SDK Domain Key (REQUIRED for all SDK connections)
# This key authenticates that the SDK is authorized to connect to this MXF server
# Generate: openssl rand -hex 32
# Share securely with SDK users (never commit to version control)
MXF_DOMAIN_KEY=your-64-char-hex-domain-key-here

# MXP Protocol Encryption
MXP_ENCRYPTION_KEY=change-this-to-a-secure-passphrase-for-mxp-encryption
MXP_ENCRYPTION_SALT=mxf-default-salt
MXP_ENCRYPTION_ENABLED=true

# Audit Settings
REDACTION_ENABLED=true
RETENTION_DAYS=90

# ============================================================================
# AGENT CONFIGURATION
# ============================================================================

MAX_AGENT_CONNECTIONS=1000
AGENT_HEARTBEAT_INTERVAL=30000
CONNECTION_TIMEOUT=60000

# Performance
COMPRESSION_THRESHOLD=1024
MAX_MESSAGE_SIZE=1048576 # 1MB

# ============================================================================
# SYSTEMLLM CONFIGURATION
# ============================================================================

# SystemLLM Configuration (for ORPAR control loop, pattern learning, etc.)
# Master switch to enable/disable SystemLLM features
# Disabled by default - enable for advanced multi-agent coordination and ORPAR control loop
SYSTEMLLM_ENABLED=false

# Provider for SystemLLM operations (openrouter, azure-openai, openai, anthropic, etc.)
# SYSTEMLLM_PROVIDER=openrouter

# Default model for SystemLLM (provider-specific model name)
# SYSTEMLLM_DEFAULT_MODEL=google/gemini-2.5-flash

# Enable dynamic model selection based on complexity (recommended for OpenRouter only)
# SYSTEMLLM_DYNAMIC_MODEL_SELECTION=true

# ============================================================================
# LLM PROVIDER API KEYS
# ============================================================================

# OpenRouter - Access to 200+ models
# OPENROUTER_API_KEY=your-openrouter-key-here

# Anthropic - Claude models
# ANTHROPIC_API_KEY=your-anthropic-key-here

# OpenAI - GPT models
# OPENAI_API_KEY=your-openai-key-here

# Google AI - Gemini models
# GOOGLE_AI_API_KEY=your-google-ai-key-here

# Azure OpenAI - Enterprise GPT
AZURE_OPENAI_API_KEY=your-azure-key-here
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4-1-mini
AZURE_OPENAI_API_VERSION=2024-04-01-preview
AZURE_OPENAI_MODEL_NAME=gpt-4.1-mini
# Note: You can also configure Azure settings per-agent using providerOptions in agent config

# xAI - Grok models
# XAI_API_KEY=your-xai-key-here

# Ollama - Local models (no API key needed, just endpoint)
# OLLAMA_BASE_URL=http://localhost:11434

# ============================================================================
# NETWORK RECOVERY & RESILIENCE
# ============================================================================

# OpenRouter-specific retry settings
OPENROUTER_MAX_RETRIES=3
OPENROUTER_BASE_DELAY_MS=1000
OPENROUTER_MAX_DELAY_MS=30000
OPENROUTER_RETRY_MULTIPLIER=2

# Circuit breaker settings
OPENROUTER_CIRCUIT_BREAKER_THRESHOLD=5
OPENROUTER_CIRCUIT_BREAKER_COOLDOWN_MS=60000

# Timeout settings
OPENROUTER_REQUEST_TIMEOUT_MS=30000

# Graceful degradation
OPENROUTER_ENABLE_GRACEFUL_DEGRADATION=true
OPENROUTER_ENABLE_DETAILED_LOGGING=true
ENABLE_GRACEFUL_DEGRADATION=true

# ============================================================================
# MEILISEARCH SEMANTIC SEARCH
# ============================================================================

# Enable/disable Meilisearch integration for semantic memory search
ENABLE_MEILISEARCH=true
ENABLE_SEMANTIC_SEARCH=true

# Meilisearch connection (Docker Compose uses internal network)
MEILISEARCH_HOST=http://localhost:7700
MEILISEARCH_MASTER_KEY=changeme_generate_secure_key

# Meilisearch embedding configuration
MEILISEARCH_EMBEDDING_MODEL=text-embedding-3-small
MEILISEARCH_EMBEDDING_DIMENSIONS=1536
MEILISEARCH_BATCH_SIZE=100
MEILISEARCH_HYBRID_RATIO=0.7

# Meilisearch performance tuning (Docker Compose)
MEILISEARCH_ENV=production
MEILI_MAX_INDEXING_MEMORY=2GB
MEILI_MAX_INDEXING_THREADS=4
MEILI_ENABLE_METRICS=false

# ============================================================================
# N8N WORKFLOW AUTOMATION
# ============================================================================

# Supports both self-hosted (free) and cloud deployments
# Self-hosted: Run n8n locally with Docker or npm (include /api/v1 path)
# Cloud: Use n8n.cloud and provide your cloud instance URL (e.g., https://your-instance.n8n.cloud/api/v1)
N8N_API_URL=http://localhost:5678/api/v1
N8N_API_KEY=

# n8n Docker Configuration (when using docker-compose)
N8N_HOST=localhost
N8N_PROTOCOL=http
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=changeme_n8n_password

# Optional: Webhook authentication credentials (for webhook-triggered workflows)
N8N_WEBHOOK_USERNAME=
N8N_WEBHOOK_PASSWORD=

# ============================================================================
# EXTERNAL SERVICES & INTEGRATIONS
# ============================================================================

# External MCP Servers
DISABLE_EXTERNAL_MCP_SERVERS=false

# NASA API Configuration
# Get your free API key at: https://api.nasa.gov/
# Used for space weather data (DONKI - Space Weather Database)
NASA_API_KEY=DEMO_KEY
